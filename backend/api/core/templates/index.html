{% extends "base.html" %}
{% load static %}

{% block title %}Index Page {% endblock %}

{% block content %}

<div class="row justify-content-center">   
    <div class="col-5">
        <div class="card" style="background: linear-gradient(to right, #F9D1C4 0%, #9BBDDD 51%, #F9D1C4 100%);  border-radius: 15px;">
            <div class="card-body">
                <div class="row">
                    <div class="col">
                        <div>
                            <form method="post" id="widget-form" class="widget-post__form" name="form" aria-label="post widget">
                                {% csrf_token %}
                                <div class="widget-post__content">
                                <textarea name="{{ form.content.name }}" id="post-content" class="widget-post__textarea scroller" placeholder="Start a Post...">{{ form.content.value|default:'' }}</textarea>
                                </div>
                                <div class="widget-post__options is--hidden" id="stock-options">
                                </div>
                                <div class="widget-post__actions post--actions">
                                    <div class="post-actions__attachments">
                                        <label for="upload-image" class="post-actions__label">
                                        <i class="fa fa-camera" sty aria-hidden="true"></i> 
                                        Photo
                                        </label>
                                        &nbsp; &nbsp; &nbsp; &nbsp;

                                        <label for="upload-image" class="post-actions__label">
                                            <i class="fa fa-video" aria-hidden="true"></i> 
                                        Video
                                        </label>
                                        &nbsp; &nbsp; &nbsp; &nbsp;

                                        <label for="upload-image" class="post-actions__label">
                                            <i class="fa fa-list-ul" aria-hidden="true"></i> 
                                        Poll
                                        </label>
                                    </div>
                                    <div class="post-actions__widget">
                                    <button type="submit" class="btn post-actions__publish">Post</button>
                                    </div>
                                </div>
                            </form>
                        </div> 
                    </div>    
                </div>
            </div>
        </div>
    </div>
</div>

<div style="text-align: center; color: #D9D9D9">
    <h2>All posts</h2>
    <ul>
        {% for post in posts %}
            <li>{{ post.content }} @{{ post.user.username }} ({{ post.created_at|date:"F d, Y H:i" }})</li>
        {% empty %}
            <li>No posts available. </li>
        {% endfor %}
    </ul>
</div>

{% for post in posts %}
<div class=" d-flex justify-content-center align-items-center">
    <div class="card" style="width: 39rem; border-radius: 30px;margin-top:20px; overflow: hidden;background: linear-gradient(to right, #F9D1C4 0%, #9BBDDD 51%, #F9D1C4 100%);">
          <div class="card-body">
           
                      <div class = "row">
                        <div class = "col-4">
                            <img src="{{ post.user.profile.pic.url }}" alt="{{ post.user.username }}'s profile picture"class="user-pic">
                        </div>
                        <div class = "col-8">
                            <h5 class="card-title">Roger</h5>
                            <h6 class="card-subtitle mb-2 text-muted">@{{ post.user.username }}</h6>
                        </div>
                      </div>
                      <p class="card-text">{{ post.content }}</p>
                    <hr>
                    <div class ="icons-list" >
                      <div class="like" style=" float:left;"><i class="fa fa-thumbs-up" aria-hidden="true"> Likes</i></div>
                      <div class="comment"style=" float:left;"> <i class="fa fa-comment" aria-hidden="true"> Comments</i> </div> 
                      <div class="share"style=" float:left;"><i class="fa fa-retweet" aria-hidden="true"> Repost</i> </div>
                    </div>
                  
          </div>
    </div>
  </div>

  {% empty %}
  <li>No posts available. </li>
{% endfor %} 

{% endblock %}